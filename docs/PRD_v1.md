# 요약

- 사용자가 간단하게 최대 3개의 감사내용을 적고, 이를 공유할 수 있는 웹페이지

# 사용할 도구

- supabase
- tailwindcss
- react
- typescript
- 기타 필요한 도구가 있다면 초기 정의 시점에 나에게 알려줘

# 화면

## 전체적인 분위기(스타일)

- 화면은 기본적으로 하얀 바탕화면에 깔끔한 디자인으로 구성할 것 (구글 디자인)
- 나눔 바른 고딕체를 사용할 것

## 말풍선 디자인

- 말풍선은 작성된 감사일기의 내용 및 정보(작성자, 작성일자)를 담는 컨테이너
- 말풍선은 둥근 네모형태로 구성하며, 오른쪽 하단에 화살표 형태로 되어있는 이미지
- 말풍선은 동일하게 하얀 바탕을 갖되, 프레임 선을 회색으로 구성 (구글 검색바와 동일하게)
- 말풍선의 크기보다 감사일기 내용이 더 길다면, 일부 내용만 보여주고 ...으로 표현함
- 말풍선을 클릭하면 애니메이션 형태로 팝업처럼 말풍선 안에 작성된 전체 내용이 표시됨
- TODO: 말풍선 좌측 하단에는 🌳 버튼이 존재하고, 이 버튼은 사용자별로 말풍선당 하나의 숫자만 올릴 수 있음. 만약 눌렀는데 다시 한번 누르면 이전에 올렸던 숫자는 제외됨 (이걸 DB상에서 어떻게 제어할 수 있을지 고민)

## 메인화면

- 메인 상단에 "감사의 정원"이라는 문구를 표시하고, 하단에 작은 글씨 + 기울임으로 "감사의 나무를 심고, 기쁨의 숲을 가꾸세요." 라고 작성
- 우측 상단에 가입 또는 로그인 메뉴 생성
- 가입 버튼을 누르면 아래 회원 가입 기능 항목에 작성된 내용에 따라 회원의 아이디/비밀번호를 DB에 저장
- 로그인 버튼을 누르면 아이디와 비밀번호를 입력할 수 있는 창이 새로 열리고, 입력된 정보가 DB에 저장된 정보와 일치하는지 확인
- 로그인 성공시 우측 상단에 나의 일기 버튼과 로그아웃 버튼이 생성됨
- 나의 일기 버튼을 누르면 아래 나의 일기 조회 항목에 작성된 내용에 따라 회원이 작성한 일기를 모두 볼 수 있도록 화면 구성
- 로그아웃 버튼을 누르면 우측 상단에 로그인 버튼과 가입 버튼이 생성되고 회원이 로그아웃됨
- 메인 화면에는 작성된 모든 감사일기들이 말풍선 형태로 생성되어 표시됨
- 가로 3개, 세로 7개의 말풍선이 생성되어 표시되며, 가로보다 세로가 약간 더 긴 형태로 말풍선을 생성
* 작성된 총 일기가 21개보다 많을 경우 최근 작성된 일기 기준으로 21개의 말풍선만 메인 화면에 로딩
* 작성된 총 일기가 21개보다 적을 경우, 작성된 일기의 수만큼의 말풍선을 메인 화면에 로딩 (가로 3개를 먼저 채우고, 세로로 채워나감)
- 단, 회원으로 로그인하지 않은 경우에는 스크롤 하단에 "회원으로 가입하시고 함께 감사를 공유하세요."와 같은 문구가 표시되고 화면을 스크롤해도 화면 아래에 더이상 추가로 말풍선이 생성되지 않도록 함 (더 좋은 문구가 있다면 추천해줘)
- 각 말풍선은 상단에 별명과 작성일이 표시됨

## 나의 일기 화면

- 나의 일기 페이지 맨 위에는 왼쪽 상단에 내 별명을 표시
- 나의 일기 화면은 크게 3개의 영역으로 구성됨
* 상단: 오늘 날짜를 기준으로 감사일기를 작성할 수 있는 영역
* 중간: 내가 작성한 일기들의 통계 (총 일기 수, 깃헙의 잔디처럼 내가 작성한 일기 수만큼 초록색으로 색깔이 칠해진 잔디를 표시함)
* 하단: 내가 작성한 일기들을 말풍선 형태로 표시하는 영역

### 상단 (감사일기 작성 영역)

- 사용자는 당일의 감사일기만 작성할 수 있음 (꾸준히 작성하는 것을 독려하기 위함)
- 사용자는 하루에 최대 3개의 내용을 담은 감사일기를 작성할 수 있음
- 감사 내용을 담을 수 있는 텍스트 박스를 둥근 네모 형태로 구성하고, 최대 3개까지 추가할 수 있도록 구성
- 추가 버튼은 옆에 + 버튼으로 새로운 텍스트 박스 생성, 3개의 텍스트 박스가 생성되면 추가 버튼이 사라짐
- 생성한 텍스트 박스를 삭제할 수 있는 휴지통 모양의 버튼도 구성. 그 버튼을 누르면 해당 텍스트 박스가 삭제됨
- 텍스트 박스는 최대 100자까지 입력할 수 있도록 구성
- 텍스트 박스에 입력된 내용이 없으면 저장 버튼이 비활성화됨
- 저장 버튼을 누르면 입력된 내용이 DB에 저장됨
- DB에 저장되는 내용
* 작성자 이메일 (별명으로 하면 안됨. 별명을 변경할 수 있기 때문)
* 작성일자 및 시간 (시간순으로 해야 향후에 메인화면에 작성된 순서대로 정렬 가능)
* 작성된 내용 (작성된 최대 3개의 감사 내용을 저장. 나중에 말풍선에 표시할 때에는 * 구분자로 하나의 내용씩 개행하여 표시)

### 중간 (통계)

- 중간 프레임은 내부적으로 2개의 상하단 영역으로 구분
- 중간 프레임 내 상단 영역에는 약간 큰 글씨로 현재 내가 작성한 감사일기의 숫자를 표시
- 중간 프레임 내 하단 영역에는 깃헙의 잔디처럼 내가 일기를 작성한 날짜만큼 초록색으로 칠해진 잔디를 표시

### 하단 (기록)

- 하단 영역은 상단 영역의 작성일자를 선택할 수 있는 버튼을 생성하고, 작성일자를 선택하면 해당 일자로부터 작성된 일기들을 화면에 필터링하여 표시함. 만약 아무것도 선택하지 않으면 최근 날짜 순으로 9개의 일기 (가로 3개, 세로 3개)를 화면에 보여줌.
* 조회된 일기 수가 9개보다 많으면 최근 작성된 일기 순으로 9개의 말풍선만 화면에 로딩하고 아래 페이지네이션 버튼으로 다음 페이지로 이동할 수 있도록 함
* 조회된 일기 수가 9개보다 작으면 조회된 일기 수만큼의 말풍선을 화면에 로딩 (가로 3개를 먼저 채우고, 세로로 채워나감)
- 각 말풍선은 상단에 작성일만 표시됨 (내 일기이기 때문에 별명은 보여주지 않아도 됨)


# 회원 관련 기능

- 회원 가입 기능
* 아이디: 이메일
* 비밀번호: 최소 8자리 이상의 비밀번호 필요
* 별명: 최대 6글자의 한글+영어+숫자 조합의 별명 작성
* db에 저장되는 내용
* 아이디: 이메일
* 별명
* 해싱된 비밀번호
* 가입일자 (자동으로 저장됨)

- 별명 변경 기능
* 로그인한 회원이 별명을 변경하고자 할 경우, 별명 변경 버튼을 눌러서 변경할 별명을 입력하면 DB에 저장됨
* 이때 메인화면에 표시되는 별명은 작성된 감사 내용의 아이디를 기반으로 별명을 조회하기 때문에, 변경되는 즉시 메인화면에 표시되는 별명도 변경됨


# 개발

## 1단계

기본적인 기능 구현을 중점으로 진행

1. local에 구현된 mysql db와 연동
2. 메인 화면 구성
* 초기 말풍선이 제대로 나오는지 확인하기 위해, mock 데이터로 4개정도의 말풍선을 생성하여 테스트
* 테스트 말풍선은 감사일기 작성 기능이 개발되면 db에 저장된 데이터를 기반으로 사용하고 mock 데이터는 삭제
2. 회원 가입, 별명 변경 기능 구현 및 테스트
3. 나의 일기 화면 구현
* 감사일기 작성 기능 구현 및 테스트
* 본래는 감사일기는 당일에만 작성할 수 있으나, 테스트를 위해서 db에 테스트 유저가 작성한 감사 일기를 미리 저장
* 회원이 작성한 감사일기 수 만큼 총 작성 횟수, 깃헙 잔디가 제대로 표현되는지 확인

## 2단계

1. local에 구현한 mysql db를 supabase로 이전
2. supabase와 연동하여 기존에 구현된 기능을 테스트
3. 개발된 웹페이지를 배포 (cloudflare를 고민하고있는데, 더 좋은게 있는지 확인해줘) 및 테스트

### 3단계

1. 메인 화면의 말풍선에 좋아요 버튼 테스트